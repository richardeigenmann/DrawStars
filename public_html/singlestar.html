<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
    <html>
        <style type="text/css">
            body
            {
                background-color:rgb(200,225,255);
                text-align:center;
                font-family:"Lucida Grande", Tahoma, "Helvetica Neue", Helvetica, sans-serif;
            }
            canvas
            {
                background-color:white;
                box-shadow:rgba(0,0,0,0.5) 0 0 10px;
            }
        </style>
        <canvas id="ctx" width="500" height="500"></canvas>
        <h2>Demo created by Programming Thomas</h2>
        <script type="text/javascript">
            var canvas = document.getElementById("ctx");
            var ctx = canvas.getContext("2d");
            ctx.fillStyle = "gold";
            star(ctx, 250, 250, 225, 4, 0.5);
            explain(ctx, 250, 250, 225, 4, 0.5);

            function star(ctx, x, y, outerRadius, points, m)
            {
                var halfAngle = Math.PI / points; // 2 * PI / 2 * points
                var innerRadius = outerRadius * m;
                ctx.save();
                ctx.beginPath();
                ctx.translate(x, y);
                ctx.moveTo(0, 0 - outerRadius);
                for (var i = 0; i < points; i++)
                {
                    ctx.rotate(halfAngle);
                    ctx.lineTo(0, 0 - innerRadius);
                    ctx.rotate(halfAngle);
                    ctx.lineTo(0, 0 - outerRadius);
                }
                ctx.fill();
                ctx.restore();
            }

            function explain(ctx, x, y, outerRadius, points, m)
            {
                var halfAngle = Math.PI / points; // 2 * PI / 2 * points
                var innerRadius = outerRadius * m;

                // draw axis lines
                ctx.save();
                ctx.translate(x, y);
                for (var i = 0; i < points * 2; i++) {
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.lineTo(0, 0 - outerRadius * 1.1);
                    ctx.stroke();
                    ctx.rotate(halfAngle);
                }
                ctx.restore();

                // draw arcs
                ctx.save();
                ctx.translate(x, y);
                for (var i = 0; i < points * 2; i++) {
                    ctx.beginPath();
                    startAngle = 0 - (Math.PI / 2) + i * halfAngle;
                    ctx.arc(0, 0, outerRadius, startAngle, startAngle + halfAngle, false);
                    ctx.stroke();
                }
                ctx.restore();

                // draw arrowheads
                ctx.save();
                ctx.translate(x, y);
                for (var i = 0; i < points * 2; i++) {
                    ctx.beginPath();
                    ctx.moveTo(0, 0 - outerRadius);
                    drawArrowhead(ctx, 0, 0 - outerRadius, Math.PI / 2);
                    ctx.rotate(halfAngle);
                }
                ctx.restore();

                // write angles
                ctx.save();
                ctx.translate(x, y);
                var halfOuterRadius = outerRadius / 2;
                var halfInnerRadius = innerRadius / 2;
                for (var i = 0; i < points * 2; i++) {
                    ctx.beginPath();
                    ctx.moveTo(0, 0 - outerRadius);
                    ctx.strokeText(( i * halfAngle * 180 / Math.PI) + "Â°", 5, 0 - outerRadius* 1.04);
                    if ( i % 2 == 0 ) {
                        ctx.strokeText( outerRadius, 5, 0 - halfOuterRadius);
                    } else {
                        ctx.strokeText( innerRadius, 5, 0 - halfInnerRadius);
                    }
                    ctx.rotate(halfAngle);
                }
                ctx.restore();

            }


            function drawArrowhead(ctx, x, y, radians) {
                ctx.save();
                ctx.beginPath();
                ctx.translate(x, y);
                ctx.rotate(radians);
                ctx.moveTo(0, 0);
                ctx.lineTo(5, 20);
                ctx.lineTo(-5, 20);
                ctx.closePath();
                ctx.restore();
                ctx.fillStyle = "black";
                ctx.fill();
            }

        </script>
    </body>
</html>
